<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>超时重传机制 ARQ | Blog</title>
    <meta name="description" content="ARQ 协议也就是超时重传机制。通过确认和超时机制保证了数据的正确送达，ARQ 协议包含停止等待 ARQ 和连续 ARQ 两种协议。">
    <link rel="icon" href="/blog/icon.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    <meta name="keywords" content="计算机 计算机网络 网络 ARQ 网络协议 协议 超时重传">
    <link rel="preload" href="/blog/assets/css/0.styles.511ec017.css" as="style"><link rel="preload" href="/blog/assets/js/app.39887082.js" as="script"><link rel="preload" href="/blog/assets/js/24.41d599f9.js" as="script"><link rel="preload" href="/blog/assets/js/66.a0b0e699.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.8d62a5d5.js"><link rel="prefetch" href="/blog/assets/js/100.40550fa8.js"><link rel="prefetch" href="/blog/assets/js/101.d1feb1c2.js"><link rel="prefetch" href="/blog/assets/js/102.769cf919.js"><link rel="prefetch" href="/blog/assets/js/103.de2faa5f.js"><link rel="prefetch" href="/blog/assets/js/104.a2489fe7.js"><link rel="prefetch" href="/blog/assets/js/105.dee5e421.js"><link rel="prefetch" href="/blog/assets/js/106.900b4cf4.js"><link rel="prefetch" href="/blog/assets/js/107.a3012e6e.js"><link rel="prefetch" href="/blog/assets/js/108.9168cb14.js"><link rel="prefetch" href="/blog/assets/js/109.2aae8fa4.js"><link rel="prefetch" href="/blog/assets/js/11.f516668d.js"><link rel="prefetch" href="/blog/assets/js/110.ea6bce15.js"><link rel="prefetch" href="/blog/assets/js/111.0d610899.js"><link rel="prefetch" href="/blog/assets/js/112.00965329.js"><link rel="prefetch" href="/blog/assets/js/113.9452cabc.js"><link rel="prefetch" href="/blog/assets/js/114.da288081.js"><link rel="prefetch" href="/blog/assets/js/115.992ca78d.js"><link rel="prefetch" href="/blog/assets/js/116.fc2ddb04.js"><link rel="prefetch" href="/blog/assets/js/117.3af76a15.js"><link rel="prefetch" href="/blog/assets/js/118.b22d8c65.js"><link rel="prefetch" href="/blog/assets/js/119.7fe9cbd5.js"><link rel="prefetch" href="/blog/assets/js/12.f5e2c995.js"><link rel="prefetch" href="/blog/assets/js/120.13f71485.js"><link rel="prefetch" href="/blog/assets/js/121.dabefc5a.js"><link rel="prefetch" href="/blog/assets/js/122.01a37a18.js"><link rel="prefetch" href="/blog/assets/js/123.3c5e3ba4.js"><link rel="prefetch" href="/blog/assets/js/124.f438a187.js"><link rel="prefetch" href="/blog/assets/js/125.8584f7f0.js"><link rel="prefetch" href="/blog/assets/js/126.b91c9d11.js"><link rel="prefetch" href="/blog/assets/js/127.b7d28af7.js"><link rel="prefetch" href="/blog/assets/js/128.2902b500.js"><link rel="prefetch" href="/blog/assets/js/129.af6579af.js"><link rel="prefetch" href="/blog/assets/js/13.ac13bac9.js"><link rel="prefetch" href="/blog/assets/js/130.79cf6630.js"><link rel="prefetch" href="/blog/assets/js/131.84faa2eb.js"><link rel="prefetch" href="/blog/assets/js/132.2742e7a8.js"><link rel="prefetch" href="/blog/assets/js/133.50d1603f.js"><link rel="prefetch" href="/blog/assets/js/134.eec917e9.js"><link rel="prefetch" href="/blog/assets/js/135.82e6f298.js"><link rel="prefetch" href="/blog/assets/js/136.5cdc95f2.js"><link rel="prefetch" href="/blog/assets/js/137.c57aa7c1.js"><link rel="prefetch" href="/blog/assets/js/138.03caeffa.js"><link rel="prefetch" href="/blog/assets/js/139.4c979783.js"><link rel="prefetch" href="/blog/assets/js/14.d11612a0.js"><link rel="prefetch" href="/blog/assets/js/140.49fe24b3.js"><link rel="prefetch" href="/blog/assets/js/141.f3a4768e.js"><link rel="prefetch" href="/blog/assets/js/142.b1994450.js"><link rel="prefetch" href="/blog/assets/js/143.48508e9d.js"><link rel="prefetch" href="/blog/assets/js/144.d3c779c4.js"><link rel="prefetch" href="/blog/assets/js/145.e29ed321.js"><link rel="prefetch" href="/blog/assets/js/146.0a67773b.js"><link rel="prefetch" href="/blog/assets/js/147.3724a0f3.js"><link rel="prefetch" href="/blog/assets/js/148.3abbbc37.js"><link rel="prefetch" href="/blog/assets/js/149.d733d2c8.js"><link rel="prefetch" href="/blog/assets/js/15.708d7056.js"><link rel="prefetch" href="/blog/assets/js/150.daf345ef.js"><link rel="prefetch" href="/blog/assets/js/151.a35c7ba2.js"><link rel="prefetch" href="/blog/assets/js/152.d840f8be.js"><link rel="prefetch" href="/blog/assets/js/153.05bb9ad4.js"><link rel="prefetch" href="/blog/assets/js/154.1700d777.js"><link rel="prefetch" href="/blog/assets/js/155.a9484326.js"><link rel="prefetch" href="/blog/assets/js/156.1af7a971.js"><link rel="prefetch" href="/blog/assets/js/157.b15abf15.js"><link rel="prefetch" href="/blog/assets/js/158.c643fe19.js"><link rel="prefetch" href="/blog/assets/js/159.b44de908.js"><link rel="prefetch" href="/blog/assets/js/16.2729673c.js"><link rel="prefetch" href="/blog/assets/js/160.83536c74.js"><link rel="prefetch" href="/blog/assets/js/161.9a56b076.js"><link rel="prefetch" href="/blog/assets/js/162.44cf24dd.js"><link rel="prefetch" href="/blog/assets/js/163.08ada04c.js"><link rel="prefetch" href="/blog/assets/js/164.62336204.js"><link rel="prefetch" href="/blog/assets/js/165.d312a799.js"><link rel="prefetch" href="/blog/assets/js/166.7308429c.js"><link rel="prefetch" href="/blog/assets/js/167.8d6da0df.js"><link rel="prefetch" href="/blog/assets/js/168.a47e1b46.js"><link rel="prefetch" href="/blog/assets/js/169.b624c020.js"><link rel="prefetch" href="/blog/assets/js/17.d3d6c4f8.js"><link rel="prefetch" href="/blog/assets/js/170.d47d6900.js"><link rel="prefetch" href="/blog/assets/js/171.6f9ef670.js"><link rel="prefetch" href="/blog/assets/js/172.761646f1.js"><link rel="prefetch" href="/blog/assets/js/173.eaef8eaa.js"><link rel="prefetch" href="/blog/assets/js/174.2b8425b9.js"><link rel="prefetch" href="/blog/assets/js/175.cdf21dca.js"><link rel="prefetch" href="/blog/assets/js/176.7dda6e4d.js"><link rel="prefetch" href="/blog/assets/js/177.dfed2dc8.js"><link rel="prefetch" href="/blog/assets/js/178.2a2b85a6.js"><link rel="prefetch" href="/blog/assets/js/179.0862e584.js"><link rel="prefetch" href="/blog/assets/js/18.a97ae1db.js"><link rel="prefetch" href="/blog/assets/js/180.50358b32.js"><link rel="prefetch" href="/blog/assets/js/181.0c2760a8.js"><link rel="prefetch" href="/blog/assets/js/182.86d76543.js"><link rel="prefetch" href="/blog/assets/js/183.34dc50b6.js"><link rel="prefetch" href="/blog/assets/js/184.23cc3cc8.js"><link rel="prefetch" href="/blog/assets/js/185.dde44252.js"><link rel="prefetch" href="/blog/assets/js/186.cea67f39.js"><link rel="prefetch" href="/blog/assets/js/187.db391050.js"><link rel="prefetch" href="/blog/assets/js/188.b40d981f.js"><link rel="prefetch" href="/blog/assets/js/189.b995db74.js"><link rel="prefetch" href="/blog/assets/js/19.8bf3d8ee.js"><link rel="prefetch" href="/blog/assets/js/190.f1f30722.js"><link rel="prefetch" href="/blog/assets/js/191.afec7ed4.js"><link rel="prefetch" href="/blog/assets/js/192.309ca80c.js"><link rel="prefetch" href="/blog/assets/js/193.f3997ce9.js"><link rel="prefetch" href="/blog/assets/js/194.9579f1fe.js"><link rel="prefetch" href="/blog/assets/js/195.063b2670.js"><link rel="prefetch" href="/blog/assets/js/196.a39c4829.js"><link rel="prefetch" href="/blog/assets/js/197.3f6cd84d.js"><link rel="prefetch" href="/blog/assets/js/198.3d4f8322.js"><link rel="prefetch" href="/blog/assets/js/199.6921f0c6.js"><link rel="prefetch" href="/blog/assets/js/2.710a66ec.js"><link rel="prefetch" href="/blog/assets/js/20.e68ded11.js"><link rel="prefetch" href="/blog/assets/js/200.18db6175.js"><link rel="prefetch" href="/blog/assets/js/201.c087aa4c.js"><link rel="prefetch" href="/blog/assets/js/202.7752d54e.js"><link rel="prefetch" href="/blog/assets/js/203.a8dba60a.js"><link rel="prefetch" href="/blog/assets/js/204.e1fcdcbb.js"><link rel="prefetch" href="/blog/assets/js/205.1c5a9612.js"><link rel="prefetch" href="/blog/assets/js/206.763c3a12.js"><link rel="prefetch" href="/blog/assets/js/207.02100c3e.js"><link rel="prefetch" href="/blog/assets/js/208.77e8d0f4.js"><link rel="prefetch" href="/blog/assets/js/209.64c48380.js"><link rel="prefetch" href="/blog/assets/js/21.4d387efc.js"><link rel="prefetch" href="/blog/assets/js/210.5a8b5faa.js"><link rel="prefetch" href="/blog/assets/js/211.059ecff7.js"><link rel="prefetch" href="/blog/assets/js/212.03e7aab2.js"><link rel="prefetch" href="/blog/assets/js/213.7e47b762.js"><link rel="prefetch" href="/blog/assets/js/214.721fa60b.js"><link rel="prefetch" href="/blog/assets/js/215.6c3aa9eb.js"><link rel="prefetch" href="/blog/assets/js/216.76898a2b.js"><link rel="prefetch" href="/blog/assets/js/217.b7f85c60.js"><link rel="prefetch" href="/blog/assets/js/218.cf553201.js"><link rel="prefetch" href="/blog/assets/js/219.7da67d6c.js"><link rel="prefetch" href="/blog/assets/js/22.670c2088.js"><link rel="prefetch" href="/blog/assets/js/220.05befb7a.js"><link rel="prefetch" href="/blog/assets/js/221.dc859d5b.js"><link rel="prefetch" href="/blog/assets/js/222.14e7a92b.js"><link rel="prefetch" href="/blog/assets/js/223.afc8cad1.js"><link rel="prefetch" href="/blog/assets/js/224.46829572.js"><link rel="prefetch" href="/blog/assets/js/225.3e4a1230.js"><link rel="prefetch" href="/blog/assets/js/226.66af8b18.js"><link rel="prefetch" href="/blog/assets/js/227.c09e666e.js"><link rel="prefetch" href="/blog/assets/js/228.15b395f0.js"><link rel="prefetch" href="/blog/assets/js/229.8901c547.js"><link rel="prefetch" href="/blog/assets/js/23.13e465e1.js"><link rel="prefetch" href="/blog/assets/js/230.7fdee682.js"><link rel="prefetch" href="/blog/assets/js/231.bdb7e1d3.js"><link rel="prefetch" href="/blog/assets/js/232.b655b3b7.js"><link rel="prefetch" href="/blog/assets/js/233.12132f03.js"><link rel="prefetch" href="/blog/assets/js/234.d8de2562.js"><link rel="prefetch" href="/blog/assets/js/235.c69fb4d8.js"><link rel="prefetch" href="/blog/assets/js/236.d6287825.js"><link rel="prefetch" href="/blog/assets/js/237.30947495.js"><link rel="prefetch" href="/blog/assets/js/238.7cf936c4.js"><link rel="prefetch" href="/blog/assets/js/239.4a5db3b1.js"><link rel="prefetch" href="/blog/assets/js/240.53ef9cc2.js"><link rel="prefetch" href="/blog/assets/js/241.b369e26b.js"><link rel="prefetch" href="/blog/assets/js/242.85e0aef0.js"><link rel="prefetch" href="/blog/assets/js/243.bb9261b0.js"><link rel="prefetch" href="/blog/assets/js/244.5d8cae46.js"><link rel="prefetch" href="/blog/assets/js/245.74b7721f.js"><link rel="prefetch" href="/blog/assets/js/246.7ee545e6.js"><link rel="prefetch" href="/blog/assets/js/247.88716eb3.js"><link rel="prefetch" href="/blog/assets/js/248.4e13bc0d.js"><link rel="prefetch" href="/blog/assets/js/249.62071145.js"><link rel="prefetch" href="/blog/assets/js/25.a7949d32.js"><link rel="prefetch" href="/blog/assets/js/250.457666ff.js"><link rel="prefetch" href="/blog/assets/js/251.3079434c.js"><link rel="prefetch" href="/blog/assets/js/252.e8f8da3b.js"><link rel="prefetch" href="/blog/assets/js/253.3251fdfe.js"><link rel="prefetch" href="/blog/assets/js/254.700d2743.js"><link rel="prefetch" href="/blog/assets/js/255.7b6c1da5.js"><link rel="prefetch" href="/blog/assets/js/256.18f53290.js"><link rel="prefetch" href="/blog/assets/js/257.cdc1c5e7.js"><link rel="prefetch" href="/blog/assets/js/258.bb726298.js"><link rel="prefetch" href="/blog/assets/js/259.c81a13dd.js"><link rel="prefetch" href="/blog/assets/js/26.f448418e.js"><link rel="prefetch" href="/blog/assets/js/260.41fb2180.js"><link rel="prefetch" href="/blog/assets/js/261.7a1a8351.js"><link rel="prefetch" href="/blog/assets/js/262.d599101a.js"><link rel="prefetch" href="/blog/assets/js/263.e6edd655.js"><link rel="prefetch" href="/blog/assets/js/264.be1b8dd0.js"><link rel="prefetch" href="/blog/assets/js/265.ddbb93d7.js"><link rel="prefetch" href="/blog/assets/js/266.8027398c.js"><link rel="prefetch" href="/blog/assets/js/267.6f051335.js"><link rel="prefetch" href="/blog/assets/js/268.c5988930.js"><link rel="prefetch" href="/blog/assets/js/269.6a6f353a.js"><link rel="prefetch" href="/blog/assets/js/27.cd624f4c.js"><link rel="prefetch" href="/blog/assets/js/270.544561e9.js"><link rel="prefetch" href="/blog/assets/js/271.b1561dd9.js"><link rel="prefetch" href="/blog/assets/js/272.10359eae.js"><link rel="prefetch" href="/blog/assets/js/273.b627d5cc.js"><link rel="prefetch" href="/blog/assets/js/274.74314ec3.js"><link rel="prefetch" href="/blog/assets/js/275.9521e88d.js"><link rel="prefetch" href="/blog/assets/js/276.261937a2.js"><link rel="prefetch" href="/blog/assets/js/277.297e9778.js"><link rel="prefetch" href="/blog/assets/js/278.ac64542c.js"><link rel="prefetch" href="/blog/assets/js/279.4687315d.js"><link rel="prefetch" href="/blog/assets/js/28.409853ea.js"><link rel="prefetch" href="/blog/assets/js/280.323eda42.js"><link rel="prefetch" href="/blog/assets/js/281.6e0bb75f.js"><link rel="prefetch" href="/blog/assets/js/282.c3ba3826.js"><link rel="prefetch" href="/blog/assets/js/283.38f0f832.js"><link rel="prefetch" href="/blog/assets/js/284.8f2b2d17.js"><link rel="prefetch" href="/blog/assets/js/285.5847bf94.js"><link rel="prefetch" href="/blog/assets/js/286.139526d0.js"><link rel="prefetch" href="/blog/assets/js/287.4c0b3cef.js"><link rel="prefetch" href="/blog/assets/js/288.84a1a254.js"><link rel="prefetch" href="/blog/assets/js/289.2299bf11.js"><link rel="prefetch" href="/blog/assets/js/29.b9809813.js"><link rel="prefetch" href="/blog/assets/js/290.351a1d26.js"><link rel="prefetch" href="/blog/assets/js/291.2a24c09a.js"><link rel="prefetch" href="/blog/assets/js/292.513464a3.js"><link rel="prefetch" href="/blog/assets/js/293.2137cca4.js"><link rel="prefetch" href="/blog/assets/js/294.fffdcdcc.js"><link rel="prefetch" href="/blog/assets/js/295.43bee520.js"><link rel="prefetch" href="/blog/assets/js/296.5a1110bc.js"><link rel="prefetch" href="/blog/assets/js/297.6a44973c.js"><link rel="prefetch" href="/blog/assets/js/298.c0e64037.js"><link rel="prefetch" href="/blog/assets/js/299.078804a7.js"><link rel="prefetch" href="/blog/assets/js/3.f3c7737a.js"><link rel="prefetch" href="/blog/assets/js/30.1ebcadc9.js"><link rel="prefetch" href="/blog/assets/js/300.28949535.js"><link rel="prefetch" href="/blog/assets/js/301.25dfd108.js"><link rel="prefetch" href="/blog/assets/js/302.04b54249.js"><link rel="prefetch" href="/blog/assets/js/303.f65cb3d9.js"><link rel="prefetch" href="/blog/assets/js/304.0e456f23.js"><link rel="prefetch" href="/blog/assets/js/305.632ba783.js"><link rel="prefetch" href="/blog/assets/js/306.8ec5ec6f.js"><link rel="prefetch" href="/blog/assets/js/307.5f780520.js"><link rel="prefetch" href="/blog/assets/js/308.496a7426.js"><link rel="prefetch" href="/blog/assets/js/309.5340f2bf.js"><link rel="prefetch" href="/blog/assets/js/31.357acc50.js"><link rel="prefetch" href="/blog/assets/js/310.75448bbe.js"><link rel="prefetch" href="/blog/assets/js/311.8e69405c.js"><link rel="prefetch" href="/blog/assets/js/312.a2f9a614.js"><link rel="prefetch" href="/blog/assets/js/313.911e5817.js"><link rel="prefetch" href="/blog/assets/js/314.37b7ac1d.js"><link rel="prefetch" href="/blog/assets/js/315.ecb8c705.js"><link rel="prefetch" href="/blog/assets/js/316.a226cace.js"><link rel="prefetch" href="/blog/assets/js/317.9d29f704.js"><link rel="prefetch" href="/blog/assets/js/318.eeea8523.js"><link rel="prefetch" href="/blog/assets/js/319.9e692cb6.js"><link rel="prefetch" href="/blog/assets/js/32.2883af47.js"><link rel="prefetch" href="/blog/assets/js/320.1a4314f8.js"><link rel="prefetch" href="/blog/assets/js/321.6cee257b.js"><link rel="prefetch" href="/blog/assets/js/322.4ed153a9.js"><link rel="prefetch" href="/blog/assets/js/323.d08b22df.js"><link rel="prefetch" href="/blog/assets/js/324.543cc5d3.js"><link rel="prefetch" href="/blog/assets/js/325.3b689f75.js"><link rel="prefetch" href="/blog/assets/js/33.8a991593.js"><link rel="prefetch" href="/blog/assets/js/34.8f405b18.js"><link rel="prefetch" href="/blog/assets/js/35.85dc6ad0.js"><link rel="prefetch" href="/blog/assets/js/36.334d2820.js"><link rel="prefetch" href="/blog/assets/js/37.5635d66f.js"><link rel="prefetch" href="/blog/assets/js/38.da422504.js"><link rel="prefetch" href="/blog/assets/js/39.9065fb1f.js"><link rel="prefetch" href="/blog/assets/js/4.bd663a0f.js"><link rel="prefetch" href="/blog/assets/js/40.49a38102.js"><link rel="prefetch" href="/blog/assets/js/41.99219a8a.js"><link rel="prefetch" href="/blog/assets/js/42.9deba258.js"><link rel="prefetch" href="/blog/assets/js/43.bf3d34cc.js"><link rel="prefetch" href="/blog/assets/js/44.3f32996e.js"><link rel="prefetch" href="/blog/assets/js/45.d4a55e74.js"><link rel="prefetch" href="/blog/assets/js/46.05a08a80.js"><link rel="prefetch" href="/blog/assets/js/47.3e38598b.js"><link rel="prefetch" href="/blog/assets/js/48.2e9c3ea6.js"><link rel="prefetch" href="/blog/assets/js/49.1ca1c005.js"><link rel="prefetch" href="/blog/assets/js/5.c93f43b0.js"><link rel="prefetch" href="/blog/assets/js/50.4d3f00c1.js"><link rel="prefetch" href="/blog/assets/js/51.ea8551e8.js"><link rel="prefetch" href="/blog/assets/js/52.ad927f49.js"><link rel="prefetch" href="/blog/assets/js/53.e2a3e703.js"><link rel="prefetch" href="/blog/assets/js/54.5aa22d0d.js"><link rel="prefetch" href="/blog/assets/js/55.c2bad324.js"><link rel="prefetch" href="/blog/assets/js/56.8422a5c9.js"><link rel="prefetch" href="/blog/assets/js/57.bdd58bd7.js"><link rel="prefetch" href="/blog/assets/js/58.ee0a9517.js"><link rel="prefetch" href="/blog/assets/js/59.2af462a1.js"><link rel="prefetch" href="/blog/assets/js/6.b94078ac.js"><link rel="prefetch" href="/blog/assets/js/60.e885ba72.js"><link rel="prefetch" href="/blog/assets/js/61.c08b05f1.js"><link rel="prefetch" href="/blog/assets/js/62.ba3452ac.js"><link rel="prefetch" href="/blog/assets/js/63.bce62af9.js"><link rel="prefetch" href="/blog/assets/js/64.0bef7045.js"><link rel="prefetch" href="/blog/assets/js/65.66e6654e.js"><link rel="prefetch" href="/blog/assets/js/67.c18a5ac3.js"><link rel="prefetch" href="/blog/assets/js/68.ea9cef57.js"><link rel="prefetch" href="/blog/assets/js/69.2021cec2.js"><link rel="prefetch" href="/blog/assets/js/7.21125540.js"><link rel="prefetch" href="/blog/assets/js/70.8cd6664b.js"><link rel="prefetch" href="/blog/assets/js/71.0fc7d28a.js"><link rel="prefetch" href="/blog/assets/js/72.98471ee3.js"><link rel="prefetch" href="/blog/assets/js/73.e5fe0c76.js"><link rel="prefetch" href="/blog/assets/js/74.6b6cd52a.js"><link rel="prefetch" href="/blog/assets/js/75.5dd021dd.js"><link rel="prefetch" href="/blog/assets/js/76.1b7c78e8.js"><link rel="prefetch" href="/blog/assets/js/77.40a0eb4d.js"><link rel="prefetch" href="/blog/assets/js/78.bdeac015.js"><link rel="prefetch" href="/blog/assets/js/79.3db1f22a.js"><link rel="prefetch" href="/blog/assets/js/8.f792d71f.js"><link rel="prefetch" href="/blog/assets/js/80.a0c1c191.js"><link rel="prefetch" href="/blog/assets/js/81.73fb109d.js"><link rel="prefetch" href="/blog/assets/js/82.02279f28.js"><link rel="prefetch" href="/blog/assets/js/83.066e0728.js"><link rel="prefetch" href="/blog/assets/js/84.1896275c.js"><link rel="prefetch" href="/blog/assets/js/85.f933720e.js"><link rel="prefetch" href="/blog/assets/js/86.ac14e7ba.js"><link rel="prefetch" href="/blog/assets/js/87.a7f98f52.js"><link rel="prefetch" href="/blog/assets/js/88.1b80b23b.js"><link rel="prefetch" href="/blog/assets/js/89.e349b1a9.js"><link rel="prefetch" href="/blog/assets/js/9.67dfc6fe.js"><link rel="prefetch" href="/blog/assets/js/90.5cb0f91e.js"><link rel="prefetch" href="/blog/assets/js/91.edb5ce05.js"><link rel="prefetch" href="/blog/assets/js/92.ed3339a0.js"><link rel="prefetch" href="/blog/assets/js/93.0d22df77.js"><link rel="prefetch" href="/blog/assets/js/94.38c2a576.js"><link rel="prefetch" href="/blog/assets/js/95.99ccbc44.js"><link rel="prefetch" href="/blog/assets/js/96.c15116f1.js"><link rel="prefetch" href="/blog/assets/js/97.6cc50155.js"><link rel="prefetch" href="/blog/assets/js/98.3137c72a.js"><link rel="prefetch" href="/blog/assets/js/99.fa91accf.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.511ec017.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Blog</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">读书</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/book/read/" class="nav-link">记录</a></li><li class="dropdown-item"><!----> <a href="/blog/book/notes/" class="nav-link">笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">开发</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/programer/1-basic/css/" class="nav-link">css</a></li><li class="dropdown-subitem"><a href="/blog/programer/1-basic/javascript/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/blog/programer/1-basic/browser/" class="nav-link">浏览器</a></li><li class="dropdown-subitem"><a href="/blog/programer/1-basic/system/" class="nav-link">操作系统</a></li><li class="dropdown-subitem"><a href="/blog/programer/1-basic/network/" class="nav-link router-link-active">计算机网络</a></li><li class="dropdown-subitem"><a href="/blog/programer/1-basic/organization/" class="nav-link">计算机组成原理</a></li></ul></li><li class="dropdown-item"><h4>框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/programer/2-frame/vue.js/" class="nav-link">Vue.js</a></li><li class="dropdown-subitem"><a href="/blog/programer/2-frame/mini-app/" class="nav-link">小程序</a></li></ul></li><li class="dropdown-item"><h4>工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/programer/3-tool/shell/" class="nav-link">shell</a></li><li class="dropdown-subitem"><a href="/blog/programer/3-tool/webpack/" class="nav-link">webpack</a></li><li class="dropdown-subitem"><a href="/blog/programer/3-tool/typescript/" class="nav-link">TypeScript</a></li></ul></li><li class="dropdown-item"><h4>后端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/programer/4-develop/php/" class="nav-link">php</a></li><li class="dropdown-subitem"><a href="/blog/programer/4-develop/node.js/" class="nav-link">node.js</a></li></ul></li><li class="dropdown-item"><h4>其它</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/programer/5-standard/standard/" class="nav-link">编码规范</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">学习</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>经济学</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/hobby/economics/" class="nav-link">薛兆丰的经济学课</a></li></ul></li><li class="dropdown-item"><h4>统计学</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/hobby/statistics/描述统计学/" class="nav-link">描述统计学</a></li><li class="dropdown-subitem"><a href="/blog/hobby/statistics/统计学习方法/" class="nav-link">统计学习方法</a></li></ul></li><li class="dropdown-item"><h4>产品思维</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/hobby/product/梁宁产品思维三十讲/" class="nav-link">梁宁产品思维三十讲</a></li><li class="dropdown-subitem"><a href="/blog/hobby/product/梁宁增长思维三十讲/" class="nav-link">梁宁增长思维三十讲</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/Seiya-1314" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">读书</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/book/read/" class="nav-link">记录</a></li><li class="dropdown-item"><!----> <a href="/blog/book/notes/" class="nav-link">笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">开发</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/programer/1-basic/css/" class="nav-link">css</a></li><li class="dropdown-subitem"><a href="/blog/programer/1-basic/javascript/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/blog/programer/1-basic/browser/" class="nav-link">浏览器</a></li><li class="dropdown-subitem"><a href="/blog/programer/1-basic/system/" class="nav-link">操作系统</a></li><li class="dropdown-subitem"><a href="/blog/programer/1-basic/network/" class="nav-link router-link-active">计算机网络</a></li><li class="dropdown-subitem"><a href="/blog/programer/1-basic/organization/" class="nav-link">计算机组成原理</a></li></ul></li><li class="dropdown-item"><h4>框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/programer/2-frame/vue.js/" class="nav-link">Vue.js</a></li><li class="dropdown-subitem"><a href="/blog/programer/2-frame/mini-app/" class="nav-link">小程序</a></li></ul></li><li class="dropdown-item"><h4>工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/programer/3-tool/shell/" class="nav-link">shell</a></li><li class="dropdown-subitem"><a href="/blog/programer/3-tool/webpack/" class="nav-link">webpack</a></li><li class="dropdown-subitem"><a href="/blog/programer/3-tool/typescript/" class="nav-link">TypeScript</a></li></ul></li><li class="dropdown-item"><h4>后端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/programer/4-develop/php/" class="nav-link">php</a></li><li class="dropdown-subitem"><a href="/blog/programer/4-develop/node.js/" class="nav-link">node.js</a></li></ul></li><li class="dropdown-item"><h4>其它</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/programer/5-standard/standard/" class="nav-link">编码规范</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">学习</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>经济学</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/hobby/economics/" class="nav-link">薛兆丰的经济学课</a></li></ul></li><li class="dropdown-item"><h4>统计学</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/hobby/statistics/描述统计学/" class="nav-link">描述统计学</a></li><li class="dropdown-subitem"><a href="/blog/hobby/statistics/统计学习方法/" class="nav-link">统计学习方法</a></li></ul></li><li class="dropdown-item"><h4>产品思维</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/hobby/product/梁宁产品思维三十讲/" class="nav-link">梁宁产品思维三十讲</a></li><li class="dropdown-subitem"><a href="/blog/hobby/product/梁宁增长思维三十讲/" class="nav-link">梁宁增长思维三十讲</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/Seiya-1314" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>超时重传机制 ARQ</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/blog/programer/1-basic/network/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/3-%E8%B6%85%E6%97%B6%E9%87%8D%E4%BC%A0%E6%9C%BA%E5%88%B6ARQ.html#前言" class="sidebar-link">前言</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/programer/1-basic/network/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/3-%E8%B6%85%E6%97%B6%E9%87%8D%E4%BC%A0%E6%9C%BA%E5%88%B6ARQ.html#停止等待-arq" class="sidebar-link">停止等待 ARQ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/programer/1-basic/network/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/3-%E8%B6%85%E6%97%B6%E9%87%8D%E4%BC%A0%E6%9C%BA%E5%88%B6ARQ.html#正常传输过程" class="sidebar-link">正常传输过程</a></li><li class="sidebar-sub-header"><a href="/blog/programer/1-basic/network/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/3-%E8%B6%85%E6%97%B6%E9%87%8D%E4%BC%A0%E6%9C%BA%E5%88%B6ARQ.html#报文丢失或出错" class="sidebar-link">报文丢失或出错</a></li><li class="sidebar-sub-header"><a href="/blog/programer/1-basic/network/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/3-%E8%B6%85%E6%97%B6%E9%87%8D%E4%BC%A0%E6%9C%BA%E5%88%B6ARQ.html#ack-超时或延迟" class="sidebar-link">ACK 超时或延迟</a></li></ul></li><li><a href="/blog/programer/1-basic/network/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/3-%E8%B6%85%E6%97%B6%E9%87%8D%E4%BC%A0%E6%9C%BA%E5%88%B6ARQ.html#连续-arq" class="sidebar-link">连续 ARQ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/programer/1-basic/network/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/3-%E8%B6%85%E6%97%B6%E9%87%8D%E4%BC%A0%E6%9C%BA%E5%88%B6ARQ.html#累计确认" class="sidebar-link">累计确认</a></li><li class="sidebar-sub-header"><a href="/blog/programer/1-basic/network/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/3-%E8%B6%85%E6%97%B6%E9%87%8D%E4%BC%A0%E6%9C%BA%E5%88%B6ARQ.html#滑动窗口" class="sidebar-link">滑动窗口</a></li><li class="sidebar-sub-header"><a href="/blog/programer/1-basic/network/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/3-%E8%B6%85%E6%97%B6%E9%87%8D%E4%BC%A0%E6%9C%BA%E5%88%B6ARQ.html#拥塞处理" class="sidebar-link">拥塞处理</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="传输控制协议-arq"><a href="#传输控制协议-arq" aria-hidden="true" class="header-anchor">#</a> 传输控制协议 ARQ</h1> <br> <div><p><font color="gray">作者：Seiya</font></p> <p><font color="gray">时间：2019年08月30日</font></p> <!----></div> <br> <h2 id="前言"><a href="#前言" aria-hidden="true" class="header-anchor">#</a> 前言</h2> <br> <p>ARQ 协议也就是超时重传机制。通过确认和超时机制保证了数据的正确送达，ARQ 协议包含停止等待 ARQ 和连续 ARQ 两种协议。</p> <br> <br> <br> <br> <h2 id="停止等待-arq"><a href="#停止等待-arq" aria-hidden="true" class="header-anchor">#</a> 停止等待 ARQ</h2> <br> <ul><li><p><strong>停止等待协议是为了实现可靠传输的，它的基本原理就是每发完一个分组就停止发送，等待对方确认。在收到确认后再发下一个分组；</strong></p></li> <li><p><strong>在停止等待协议中，若接收方收到重复分组，就丢弃该分组，但同时还要发送确认；</strong></p></li></ul> <br> <br> <br> <h3 id="正常传输过程"><a href="#正常传输过程" aria-hidden="true" class="header-anchor">#</a> 正常传输过程</h3> <p>只要 A 向 B 发送一段报文，都要停止发送并启动一个定时器，等待对端回应，在定时器时间内接收到对端应答就取消定时器并发送下一段报文。如下图所示：</p> <p><img src="data:image/png;base64,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" alt></p> <br> <br> <br> <h3 id="报文丢失或出错"><a href="#报文丢失或出错" aria-hidden="true" class="header-anchor">#</a> 报文丢失或出错</h3> <p>在报文传输的过程中可能会出现丢包。这时候超过定时器设定的时间就会再次发送丢失的数据直到对端响应，所以需要每次都备份发送的数据。</p> <p>即使报文正常的传输到对端，也可能出现在传输过程中报文出错的问题。这时候对端会抛弃该报文并等待 A 端重传。如下图：</p> <p><img src="/blog/assets/img/3-2.f917eb57.png" alt></p> <br> <div class="tip custom-block"><p class="custom-block-title">tps</p> <p>一般定时器设定的时间都会大于一个 RTT(一个数据包从发出去到回来的时间) 的平均时间。</p></div> <br> <br> <br> <h3 id="ack-超时或延迟"><a href="#ack-超时或延迟" aria-hidden="true" class="header-anchor">#</a> ACK 超时或延迟</h3> <p>对端传输的应答也可能出现丢失或超时的情况。那么超过定时器时间 A 端照样会重传报文。这时候 B 端收到相同序号的报文会丢弃该报文并重传应答，直到 A 端发送下一个序号的报文。</p> <p>在超时的情况下也可能出现应答很迟到达，这时 A 端会判断该序号是否已经接收过，如果接收过只需要丢弃应答即可。如下图所示：</p> <p><img src="/blog/assets/img/3-3.49821ae9.png" alt></p> <br> <div class="warning custom-block"><p class="custom-block-title">注意：</p> <p>这肯定不是一个高效的方式，因为如果实在良好的网络环境中，每次发送数据都需要等待，这是不可接受的浪费。</p></div> <br> <br> <br> <br> <h2 id="连续-arq"><a href="#连续-arq" aria-hidden="true" class="header-anchor">#</a> 连续 ARQ</h2> <br> <p>在连续 ARQ 中，发送端拥有一个发送窗口，可以在没有收到应答的情况下持续发送窗口内的数据，这样相比停止等待 ARQ 协议来说减少了等待时间，提高了效率。</p> <br> <div class="tip custom-block"><p class="custom-block-title">优点：</p> <p>信道利用率高，容易实现，即使确认丢失，也不必重传。</p></div> <div class="warning custom-block"><p class="custom-block-title">缺点：</p> <p>不能向发送方反映出接收方已经正确收到的所有分组的信息。 比如：发送方发送了 5条 消息，中间第三条丢失（3号），这时接收方只能对前两个发送确认。发送方无法知道后三个分组的下落，而只好把后三个全部重传一次。这也叫 Go-Back-N（回退 N），表示需要退回来重传已经发送过的 N 个消息。</p></div> <br> <br> <br> <h3 id="累计确认"><a href="#累计确认" aria-hidden="true" class="header-anchor">#</a> 累计确认</h3> <p>连续 ARQ 中，接收端会持续不断收到报文。通过累计确认，可以在收到多个报文以后统一回复一个应答报文。报文中的 ACK 标志位可以用来告诉发送端这个序号之前的数据已经全部接收到了，下次请发送这个序号后的数据。</p> <br> <br> <br> <h3 id="滑动窗口"><a href="#滑动窗口" aria-hidden="true" class="header-anchor">#</a> 滑动窗口</h3> <p>滑动窗口（Sliding window）是一种流量控制技术。早期的网络通信中，通信双方不会考虑网络的拥挤情况直接发送数据。由于大家不知道网络拥塞状况，同时发送数据，导致中间节点阻塞掉包，谁也发不了数据，所以就有了滑动窗口机制来解决此问题。</p> <p>TCP 中采用滑动窗口来进行传输控制，滑动窗口的大小意味着接收方还有多大的缓冲区可以用于接收数据。发送方可以通过滑动窗口的大小来确定应该发送多少字节的数据。</p> <br> <div class="tip custom-block"><p class="custom-block-title">Zero 窗口：</p> <p>在发送报文的过程中，可能会遇到对端出现零窗口的情况。在该情况下，发送端会停止发送数据，并启动 persistent timer 。该定时器会定时发送请求给对端，让对端告知窗口大小。在重试次数超过一定次数后，可能会中断 TCP 链接。</p></div> <div class="tip custom-block"><p class="custom-block-title">tips</p> <p>滑动窗口是一个很重要的概念，它帮助 TCP 实现了流量控制的功能。接收方通过报文告知发送方还可以发送多少数据，从而保证接收方能够来得及接收数据，防止出现接收方带宽已满，但是发送方还一直发送数据的情况。</p></div> <br> <br> <br> <h3 id="拥塞处理"><a href="#拥塞处理" aria-hidden="true" class="header-anchor">#</a> 拥塞处理</h3> <p>拥塞处理和流量控制不同，后者是作用于接收方，保证接收方来得及接受数据。而前者是作用于网络，防止过多的数据拥塞网络，避免出现网络负载过大的情况。</p> <p>为了进行拥塞控制，TCP 发送方要维持一个 拥塞窗口(cwnd) 的状态变量。拥塞控制窗口的大小取决于网络的拥塞程度，并且动态变化。发送方让自己的发送窗口取为拥塞窗口和接收方的接受窗口中较小的一个。</p> <br> <p>TCP的拥塞控制采用了四种算法，即 <strong>慢开始 、 拥塞避免 、快重传 和 快恢复</strong>。在网络层也可以使路由器采用适当的分组丢弃策略（如主动队列管理 AQM），以减少网络拥塞的发生。</p> <br> <ul><li><p><strong><code>慢开始</code></strong></p> <p>慢开始算法，顾名思义，就是在传输开始时将发送窗口慢慢指数级扩大，从而避免一开始就传输大量数据导致网络拥塞。</p> <br>
慢开始算法步骤具体如下:
<ul><li><p>连接初始设置拥塞窗口（Congestion Window） 为 1 MSS（一个分段的最大数据量）；</p></li> <li><p>每过一个 RTT 就将窗口大小乘二；</p></li> <li><p>指数级增长肯定不能没有限制的，所以有一个阈值限制，当窗口大小大于阈值时就会启动拥塞避免算法；</p></li></ul></li></ul> <br> <ul><li><p><strong><code>拥塞避免</code></strong></p> <p>拥塞避免算法相比简单点，每过一个 RTT 窗口大小只加一，这样能够避免指数级增长导致网络拥塞，慢慢将大小调整到最佳值。</p> <br>
在传输过程中可能定时器超时的情况，这时候 TCP 会认为网络拥塞了，会马上进行以下步骤：
<ul><li><p>将阈值设为当前拥塞窗口的一半；</p></li> <li><p>将拥塞窗口设为 1 MSS；</p></li> <li><p>启动拥塞避免算法；</p></li></ul></li></ul> <br> <ul><li><p><strong><code>快重传与快恢复</code></strong></p> <p>在 TCP/IP 中，快速重传和恢复（fast retransmit and recovery，FRR）是一种拥塞控制算法，它能快速恢复丢失的数据包。</p> <p>一旦接收端收到的报文出现失序的情况，接收端只会回复最后一个顺序正确的报文序号。如果发送端收到三个重复的 ACK，无需等待定时器超时而是直接启动快速重传算法。具体算法分为两种：</p> <br> <ul><li><p><strong>TCP Taho 实现</strong></p> <ul><li><p>将阈值设为当前拥塞窗口的一半；</p></li> <li><p>将拥塞窗口设为 1 MSS；</p></li> <li><p>重新开始慢开始算法；</p></li></ul></li></ul> <br> <ul><li><p><strong>TCP Reno 实现</strong></p> <ul><li><p>拥塞窗口减半；</p></li> <li><p>将阈值设为当前拥塞窗口；</p></li> <li><p>进入快恢复阶段（重发对端需要的包，一旦收到一个新的 ACK 答复就退出该阶段），这种方式在丢失多个包的情况下就不那么好了；</p></li> <li><p>使用拥塞避免算法；</p></li></ul></li></ul> <br> <ul><li><p><strong>TCP New Reno 实现</strong></p> <p>TCP New Reno 算法改进了之前 TCP Reno 算法的缺陷。在之前，快恢复中只要收到一个新的 ACK 包，就会退出快恢复。</p> <p>在 TCP New Reno 中，TCP 发送方先记下三个重复 ACK 的分段的最大序号。</p> <div class="tip custom-block"><p class="custom-block-title">举例描述：</p> <p>假如我有一个分段数据是 1 ~ 10 这十个序号的报文，其中丢失了序号为 3 和 7 的报文，那么该分段的最大序号就是 10。发送端只会收到 ACK 序号为 3 的应答。这时候重发序号为 3 的报文，接收方顺利接收的话就会发送 ACK 序号为 7 的应答。这时候 TCP 知道对端是有多个包未收到，会继续发送序号为 7 的报文，接收方顺利接收并会发送 ACK 序号为 11 的应答，这时发送端认为这个分段接收端已经顺利接收，接下来会退出快恢复阶段。</p></div></li></ul></li></ul> <br></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间: </span> <span class="time">2019-8-30 13:10:52</span></div></div> <!----> </div> <!----></div></div>
    <script src="/blog/assets/js/app.39887082.js" defer></script><script src="/blog/assets/js/24.41d599f9.js" defer></script><script src="/blog/assets/js/66.a0b0e699.js" defer></script>
  </body>
</html>
